filter:
{
	"classname" "func_dustmotes"
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_st1_0"
	}
	replace:
	{
	"health" "6"
	}
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_st1_1"
	}
	replace:
	{
	"health" "6"
	}
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_st1_2"
	}
	replace:
	{
	"health" "6"
	}
}

modify:
{
	match:
	{	
	"classname" "logic_case"
	"targetname" "st1_sound_case"
	}
	delete:
	{
	"OnCase01" "!self,PickRandomShuffle,,202,-1"
	"OnCase02" "!self,PickRandomShuffle,,201,-1"
	}
	insert:
	{
	"OnCase01" "!self,PickRandomShuffle,,202,1"
	"OnCase02" "!self,PickRandomShuffle,,201,1"
	}
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_end0_0"
	}
	replace:
	{
	"health" "6"
	}
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_end0_1"
	}
	replace:
	{
	"health" "6"
	}
}


modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_st2_0"
	}
	replace:
	{
	"health" "6"
	}
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_st2_1"
	}
	replace:
	{
	"health" "6"
	}
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_st2_boss0"
	}
	replace:
	{
	"health" "6"
	}
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_st2_boss2"
	}
	replace:
	{
	"health" "6"
	}
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_st2_boss1"
	}
	replace:
	{
	"health" "6"
	}
}

modify:
{
	match:
	{	
	"classname" "ambient_generic"
	"targetname" "sound_st2_boss3"
	}
	replace:
	{
	"health" "6"
	}
}


modify:
{
	match:
	{	
	"classname" "logic_case"
	"targetname" "st2_sound_case"
	}
	delete:
	{
	"OnCase02" "!self,PickRandomShuffle,,476,-1"
	"OnCase01" "!self,PickRandomShuffle,,400,-1"
	}
	insert:
	{
	"OnCase02" "!self,PickRandomShuffle,,476,1"
	"OnCase01" "!self,PickRandomShuffle,,400,1"
	}
}

//2023.8.8修改僵尸刷新量,增加brush修复防守区域

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st1_zombie10"
	}
	replace:
	{
	"spawn_density" "1.0"
	"override_spawn_density" "0"
	}
}

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st1_zombie10_2"
	}
	replace:
	{
	"spawn_density" "1.0"
	"override_spawn_density" "0"
	}
}

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st1_zombie10_3"
	}
	replace:
	{
	"spawn_density" "1.0"
	"override_spawn_density" "0"
	}
}

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st1_zombie14_r"
	}
	replace:
	{
	"spawn_density" "1.0"
	"override_spawn_density" "0"
	}
}

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st1_zombie14_l"
	}
	replace:
	{
	"spawn_density" "1.0"
	"override_spawn_density" "0"
	}
}

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st1_zombie15_r"
	}
	replace:
	{
	"spawn_density" "1.0"
	"override_spawn_density" "0"
	}
}

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st1_zombie15_l"
	}
	replace:
	{
	"spawn_density" "1.0"
	"override_spawn_density" "0"
	}
}

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st1_zombie15_2"
	}
	replace:
	{
	"spawn_density" "1.0"
	"override_spawn_density" "0"
	}
}

add:
{
	"classname" "func_brush"
	"disableflashlight" "0"
	"disableshadowdepth" "0"
	"disableshadows" "0"
	"drawinfastreflection" "0"
	"fademindist" "-1"
	"fadescale" "1"
	"InputFilter" "0"
	"invert_exclusion" "1"
	"origin" "-6902 -235 -8642"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"shadowdepthnocache" "0"
	"solidbsp" "0"
	"Solidity" "0"
	"spawnflags" "2"
	"StartDisabled" "1"
	"targetname" "zombie_brush2"
	"vrad_brush_cast_shadows" "0"
}

add:
{
	"classname" "func_brush"
	"disableflashlight" "0"
	"disableshadowdepth" "0"
	"disableshadows" "0"
	"drawinfastreflection" "0"
	"fademindist" "-1"
	"fadescale" "1"
	"InputFilter" "0"
	"invert_exclusion" "1"
	"origin" "-9398 -235 -8642"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"shadowdepthnocache" "0"
	"solidbsp" "0"
	"Solidity" "0"
	"spawnflags" "2"
	"StartDisabled" "1"
	"targetname" "zombie_brush3"
	"vrad_brush_cast_shadows" "0"
}

modify:
{
	match:
	{	
	"classname" "logic_auto"
	}
	insert:
	{
	"OnMapSpawn" "zombie_brush2,AddOutput,mins -8 -32 -76,0,-1"
	"OnMapSpawn" "zombie_brush2,AddOutput,maxs 8 32 76,0,-1"
	"OnMapSpawn" "zombie_brush3,AddOutput,mins -8 -112 -76,0,-1"
	"OnMapSpawn" "zombie_brush3,AddOutput,maxs 8 112 76,0,-1"
	"OnMapSpawn" "zombie_brush3,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "zombie_brush2,AddOutput,solid 2,0,-1"
	"OnMapSpawn" "text_script,RunScriptCode,dmg(),0,-1"
	"OnMapSpawn" "text_script,RunScriptCode,DisplayLightLyrics(),10,-1" //Lyric
	}
}

modify:
{
	match:
	{	
	"classname" "trigger_allplayer"
	"targetname" "st1_trigger6_all"
	}
	insert:
	{
	"OnAllPlayerTrigger" "zombie_brush2,enable,,0,-1"
	"OnAllPlayerTrigger" "zombie_brush3,enable,,0,-1"
	"OnAllPlayerTrigger" "zombie_brush2,kill,,200,-1"
	"OnAllPlayerTrigger" "zombie_brush3,kill,,200,-1"
	"OnAllPlayerTrigger" "first_player,RespawnPlayers,,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "st1_break10"
	}
	insert:
	{
	"OnBreak" "st2_zombie1,InputEnable,,20,1"
	"OnBreak" "text_script,RunScriptCode,rota_fix(),0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "npc_bullseye"
	"targetname" "st1_shadow_bull"
	}
	replace:
	{
	"health" "2000"
	}
}

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st2_zombie1"
	}
	replace:
	{
	"spawn_density" "2.0"
	"override_spawn_density" "1"
	}
}

modify:
{
	match:
	{	
	"classname" "trigger_progress_use"
	"targetname" "st2_trigger0"
	}
	delete:
	{
	"OnTrigger" "erosion_relay,Trigger,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_zombie_spawn"
	"targetname" "st2_zombie3"
	}
	replace:
	{
	"spawn_density" "1.0"
	"override_spawn_density" "0"
	}
}

modify:
{
	match:
	{	
	"classname" "info_target"
	"targetname" "target1"
	}
	replace:
	{
	"parentname" ""
	"origin" "0 -15832 -9056"
	}
}

modify:
{
	match:
	{	
	"classname" "npc_template_maker"
	"targetname" "st2_zombie4"
	}
	replace:
	{
	"origin" "-8150 -235 -9056"
	}
}

add:
{
	"classname" "func_button"
	"disablereceiveshadows" "0"
	"health" "0"
	"lip" "0"
	"locked_sentence" "0"
	"locked_sound" "0"
	"movedir" "0 0 0"
	"origin" "264 3016 -7472"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "0"
	"sounds" "3"
	"spawnflags" "1025"
	"speed" "5"
	"targetname" "st2_fix"
	"unlocked_sentence" "0"
	"unlocked_sound" "0"
	"wait" "10"
	"OnPressed" "text_script,RunScriptCode,clean(),0,-1"
}

add:
{
	"classname" "point_message_multiplayer"
	"color" "255 0 0"
	"developeronly" "0"
	"font" "PointMessageDefault"
	"fontdropshadow" "0"
	"fontproportional" "1"
	"parentname" "st2_fix"
	"radius" "256"
	"spawnflags" "0"
	"targetname" "st2_fix_mess"
	"message" "按下后清除地图垃圾,修复电梯使用"
	"origin" "264 3016 -7472"

}

//Skip buttons
//Skip to reactor
add:
{
	"classname" "func_button"
	"disablereceiveshadows" "0"
	"health" "0"
	"lip" "0"
	"locked_sentence" "0"
	"locked_sound" "0"
	"movedir" "0 0 0"
	"origin" "-7968 -12729 -7360"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "0"
	"sounds" "3"
	"spawnflags" "1025"
	"speed" "5"
	"targetname" "st1_skip"
	"unlocked_sentence" "0"
	"unlocked_sound" "0"
	"wait" "10"
	"OnPressed" "1,ObjectiveComplete,,0,1"
	"OnPressed" "2,ObjectiveComplete,,0.2,1"
	"OnPressed" "3,ObjectiveComplete,,0.4,1"
	"OnPressed" "4,ObjectiveComplete,,0.6,1"
	"OnPressed" "5,ObjectiveComplete,,0.8,1"
	"OnPressed" "6,ObjectiveComplete,,1,1"
	"OnPressed" "sky_brith,Kill,,0,1"
	"OnPressed" "boss_temp,ForceSpawn,,0,1"
	"OnPressed" "st2_temp,ForceSpawn,,0,1"
	"OnPressed" "st2_zombie1,InputEnable,,10,1"
	"OnPressed" "6,FireUser1,,1.5,1"
	"OnPressed" "st2_sound_case,PickRandomShuffle,,6,1"
	"OnPressed" "sound_st1_*,Kill,,15,1"
	"OnPressed" "st2_move1,open,,0.5,1"
	"OnPressed" "st2_move1,SetSpeed,500,0.2,1"
	"OnPressed" "st1_hurt_all3,Enable,,30,1"
	"OnPressed" "st1*,Kill,,40,1"
	"OnPressed" "tp1,AddOutput,origin 0 -7616.16 -7436.5,0,1"
	"OnPressed" "tp1,AddOutput,angles 0 90 0,0.02,1"
	"OnPressed" "st1_hurt_all2,Enable,,30,1"
	"OnPressed" "first_player,RespawnPlayers,,1,1"
	"OnPressed" "text_script,RunScriptCode,text8(),3,1"
	"OnPressed" "sound_st1_2,Volume,0,5,1"
	"OnPressed" "st2_itemx_box*,FireUser1,,0,1"
	"OnPressed" "st1_win,Disable,,1.5,1"
	"OnPressed" "trigger_tp1,Enable,,3,1"
	"OnPressed" "sound_st1_*,Volume,0,1,1"
	"OnPressed" "item_box1_1,AddOutput,origin -120 -7592 -7447.67,0.1,1"
	"OnPressed" "item_box1_3,AddOutput,origin 120 -7592 -7447.67,0.1,1"
	"OnPressed" "item_box1_1,RemoveAllItems,,0,1"
	"OnPressed" "item_box1_3,RemoveAllItems,,0,1"
	"OnPressed" "item_box1_3,FireUser3,,0.2,1"
	"OnPressed" "item_box1_1,FireUser2,,0.2,1"
}

add:
{
	"classname" "point_message_multiplayer"
	"color" "255 0 0"
	"developeronly" "0"
	"font" "PointMessageDefault"
	"fontdropshadow" "0"
	"fontproportional" "1"
	"parentname" "st1_skip"
	"radius" "256"
	"spawnflags" "0"
	"targetname" "st1_skip_mess"
	"message" "reactor"
	"origin" "-7968 -12729 -7360"

}

//Skip to boss
add:
{
	"classname" "func_button"
	"disablereceiveshadows" "0"
	"health" "0"
	"lip" "0"
	"locked_sentence" "0"
	"locked_sound" "0"
	"movedir" "0 0 0"
	"origin" "-7968 -12677 -7360"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "0"
	"sounds" "3"
	"spawnflags" "1025"
	"speed" "5"
	"targetname" "st1_skip2"
	"unlocked_sentence" "0"
	"unlocked_sound" "0"
	"wait" "10"
	"OnPressed" "1,ObjectiveComplete,,0,1"
	"OnPressed" "2,ObjectiveComplete,,0.2,1"
	"OnPressed" "3,ObjectiveComplete,,0.4,1"
	"OnPressed" "4,ObjectiveComplete,,0.6,1"
	"OnPressed" "5,ObjectiveComplete,,0.8,1"
	"OnPressed" "6,ObjectiveComplete,,1,1"
	"OnPressed" "7,ObjectiveComplete,,1.2,1"
	"OnPressed" "sky_brith,Kill,,0,1"
	"OnPressed" "boss_temp,ForceSpawn,,0,1"
	"OnPressed" "st2_temp,ForceSpawn,,0,1"
	"OnPressed" "st2_zombie1,InputEnable,,10,1"
	"OnPressed" "st2_sound_case,PickRandomShuffle,,6,1"
	"OnPressed" "sound_st1_*,Kill,,15,1"
	"OnPressed" "st2_move1,open,,0.5,1"
	"OnPressed" "st2_move1,SetSpeed,500,0.2,1"
	"OnPressed" "st1_hurt_all3,Enable,,30,1"
	"OnPressed" "st1*,Kill,,40,1"
	"OnPressed" "tp1,AddOutput,origin 0 810.5 -6632,0,1"
	"OnPressed" "tp1,AddOutput,angles 0 270 0,0.02,1"
	"OnPressed" "st1_hurt_all2,Enable,,30,1"
	"OnPressed" "first_player,RespawnPlayers,,1,1"
	"OnPressed" "sound_st1_2,Volume,0,5,1"
	"OnPressed" "st1_win,Disable,,1.5,1"
	"OnPressed" "trigger_tp1,Enable,,3,1"
	"OnPressed" "sound_st1_*,Volume,0,1,1"
	"OnPressed" "st2_start_bre0,SetHealth,300,3,1"
	"OnPressed" "st2_start_bre0,Break,5,1"

}

add:
{
	"classname" "point_message_multiplayer"
	"color" "255 0 0"
	"developeronly" "0"
	"font" "PointMessageDefault"
	"fontdropshadow" "0"
	"fontproportional" "1"
	"parentname" "st1_skip2"
	"radius" "256"
	"spawnflags" "0"
	"targetname" "st1_skip_mess2"
	"message" "boss"
	"origin" "-7968 -12677 -7360"

}

//Skip to bury the light
add:
{
	"classname" "func_button"
	"disablereceiveshadows" "0"
	"health" "0"
	"lip" "0"
	"locked_sentence" "0"
	"locked_sound" "0"
	"movedir" "0 0 0"
	"origin" "-7968 -12199 -7360"
	"renderamt" "255"
	"rendercolor" "255 255 255"
	"renderfx" "0"
	"rendermode" "0"
	"sounds" "3"
	"spawnflags" "1025"
	"speed" "5"
	"targetname" "st1_skip3"
	"unlocked_sentence" "0"
	"unlocked_sound" "0"
	"wait" "10"
	"OnPressed" "1,ObjectiveComplete,,0,1"
	"OnPressed" "2,ObjectiveComplete,,0.2,1"
	"OnPressed" "3,ObjectiveComplete,,0.4,1"
	"OnPressed" "4,ObjectiveComplete,,0.6,1"
	"OnPressed" "5,ObjectiveComplete,,0.8,1"
	"OnPressed" "6,ObjectiveComplete,,1,1"
	"OnPressed" "7,ObjectiveComplete,,1.2,1"
	"OnPressed" "8,ObjectiveComplete,,1.4,1"
	"OnPressed" "9,ObjectiveComplete,,1.6,1"
	"OnPressed" "10,ObjectiveComplete,,1.8,1"
	"OnPressed" "boss_temp,ForceSpawn,,0,1"
	"OnPressed" "st2_temp,ForceSpawn,,0,1"
	"OnPressed" "sound_st1_*,Kill,,15,1"
	"OnPressed" "st1*,Kill,,40,1"
	"OnPressed" "tp1,AddOutput,origin 0 810.5 -6632,0,1"
	"OnPressed" "tp1,AddOutput,angles 0 270 0,0.02,1"
	"OnPressed" "sound_st1_2,Volume,0,5,1"
	"OnPressed" "trigger_tp1,Enable,,5,1"
	"OnPressed" "sound_st1_*,Volume,0,1,1"
	"OnPressed" "st2_sky_move*,Kill,,3.9,-1"
	"OnPressed" "sky_earth*,Kill,,3.9,-1"
	"OnPressed" "tp1,AddOutput,origin -6909 9237 2944.04,2,-1"
	"OnPressed" "tp1,AddOutput,origin -2048 10240 -9632,6,-1"
	"OnPressed" "st3_temp,ForceSpawn,,0,1"
	"OnPressed" "st3_mut,Enable,,2.5,1"
	"OnPressed" "end0_temp0,ForceSpawn,,4,-1"
	"OnPressed" "st3_sky_end,Toggle,,3,-1"
	"OnPressed" "sky_brith,kill,,3,-1"
	"OnPressed" "st2_sky_move*,Kill,,3.9,-1"
	"OnPressed" "sky_earth*,Kill,,3.9,-1"
	"OnPressed" "st2_*,Kill,,30,1"
	"OnPressed" "sky_particle0,Kill,,4,1"
	"OnPressed" "st2_hurt_all1,Enable,,6,1"
	"OnPressed" "filter_s,Kill,,0,-1"
	"OnPressed" "filter_l,Kill,,0,-1"
	"OnPressed" "r_a_move0,Kill,,0,1"
	"OnPressed" "absorb_mu*,Kill,,0,-1"
	"OnPressed" "repel_mu*,Kill,,0,-1"	
	"OnPressed" "shadow_relay_clean,Trigger,15,-1"	
	"OnPressed" "light_relay_clean,Trigger,15,-1"	
	"OnPressed" "frenzy*,Kill,15,-1"	
	"OnPressed" "st3_particle0,Kill,15,-1"	

}

add:
{
	"classname" "point_message_multiplayer"
	"color" "255 0 0"
	"developeronly" "0"
	"font" "PointMessageDefault"
	"fontdropshadow" "0"
	"fontproportional" "1"
	"parentname" "st1_skip3"
	"radius" "256"
	"spawnflags" "0"
	"targetname" "st1_skip_mess3"
	"message" "Bury the Light"
	"origin" "-7968 -12199 -7360"

}


add:
{
	"classname" "filter_script"
	"targetname" "only_melee_pass_filter"
	"Negated" "Allow entities that match criteria"
	"origin" "-13416 -14408 -15976"
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "counter_bre0"
	}
	replace:
	{
	"health" "800"
	"minhealthdmg" "0"
	}
	insert:
	{
	"damagefilter" "only_melee_pass_filter"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "shadow_tem_Frenzy_break"
	}
	replace:
	{
	"health" "800"
	"minhealthdmg" "0"
	}
	insert:
	{
	"damagefilter" "only_melee_pass_filter"
	}
}

modify:
{
	match:
	{	
	"classname" "func_physbox"
	"targetname" "end0_lighthitbox0"
	}
	replace:
	{
	"minhealthdmg" "0"
	}
}



modify:
{
	match:
	{	
	"classname" "trigger_teleport"
	"targetname" "st3_mut"
	}
	insert:
	{
	"OnStartTouch" "text_script,RunScriptCode,infammo(),0,1"
	"OnStartTouch" "text_script,RunScriptCode,infammo_text(),0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "logic_compare"
	"targetname" "end0_comp"
	}
	delete:
	{
	"OnEqualTo" "!self,SetValue,2,0,1"
	"OnUser1" "11,ObjectiveFail,,8,1"
	"OnUser1" "end0_fail,Enable,,8,-1"
	"OnUser1" "particle_wing,Stop,,5.4,-1"
	"OnUser1" "cc_fail,Enable,,5,-1"
	"OnUser1" "text_script,RunScriptCode,textfail3(),0,1"
	"OnUser1" "cc_fail,SetFadeInDuration,3,0,-1"
	"OnUser1" "r_a_sound0,PlaySound,,0,-1"
	"OnUser1" "short_fade1,Fade,,0,-1"
	"OnUser1" "knight_dynamic,FireUser2,,0,-1"
	"OnUser1" "end0_lighthitbox0,Kill,,0,1"
	}
	insert:
	{
	"OnEqualTo" "!self,kill,,0.02,1"
	"OnNotEqualTo" "11,ObjectiveFail,,8,1"
	"OnNotEqualTo" "end0_fail,Enable,,8,-1"
	"OnNotEqualTo" "particle_wing,Stop,,5.4,-1"
	"OnNotEqualTo" "cc_fail,Enable,,5,-1"
	"OnNotEqualTo" "text_script,RunScriptCode,textfail3(),0,1"
	"OnNotEqualTo" "cc_fail,SetFadeInDuration,3,0,-1"
	"OnNotEqualTo" "r_a_sound0,PlaySound,,0,-1"
	"OnNotEqualTo" "short_fade1,Fade,,0,-1"
	"OnNotEqualTo" "knight_dynamic,FireUser2,,0,-1"
	"OnNotEqualTo" "end0_lighthitbox0,Kill,,0,1"
	"OnNotEqualTo" "end0_lighthitbox0_hp,Kill,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "npc_bullseye"
	"targetname" "end0_shadow_bull"
	}
	insert:
	{
	"OnDeath" "end0_comp,compare,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "logic_relay"
	"targetname" "relay_end0"
	}
	delete:
	{
	"OnUser3" "end0_zombie*,SetSpawnFrequency,10,425,1"
	}
	insert:
	{
	"OnUser3" "end0_zombie*,SetSpawnFrequency,6,425,1"
	}
}

modify:
{
	match:
	{	
	"classname" "logic_relay"
	"targetname" "st4_relay_end1"
	}
	delete:
	{
	"OnTrigger" "st4_end1_ringbre*,Open,,208,1"
	}
	insert:
	{
	"OnTrigger" "st4_end1_ring0_m,Open,,208,1"
	"OnTrigger" "st4_end1_ring1_m,Open,,208,1"
	"OnTrigger" "st4_end1_ring2_m,Open,,208,1"
	"OnTrigger" "st4_end1_ring3_m,Open,,208,1"
	"OnTrigger" "st4_end1_ring4_m,Open,,208,1"
	"OnTrigger" "st4_end1_ring5_m,Open,,208,1"
	"OnTrigger" "st4_end1_ring6_m,Open,,208,1"
	"OnTrigger" "st4_end1_ring7_m,Open,,208,1"
	}
}

modify:
{
	match:
	{	
	"classname" "nmrih_objective_boundary"
	"targetname" "12"
	}
	insert:
	{
	"OnUser1" "end0_zombie7,ChangeDestinationGroup,end1_zombie8_info,95,1"
	"OnUser4" "!self,FireUser2,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "npc_bullseye"
	"targetname" "st4_shadow_bull"
	}
	replace:
	{
	"health" "1000"
	}
}

modify:
{
	match:
	{	
	"classname" "math_counter"
	"targetname" "st1_math1"
	}
	replace:
	{
	"max" "4"
	}
}

modify:
{
	match:
	{	
	"classname" "func_movelinear"
	"targetname" "st1_move7"
	}
	delete:
	{
	"OnFullyClosed" "st1_move8*,Open,,60,1"
	"OnFullyClosed" "st1_zombie14_l,InputEnable,,55,1"
	"OnFullyClosed" "st1_zombie14_r,InputEnable,,55,1"
	"OnFullyClosed" "st1_zombie2,FireUser4,,55,1"
	}
	insert:
	{
	"OnFullyClosed" "text_script,RunScriptCode,st1_move8_case(),55,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "npc_template_maker"
	"targetname" "st1_zombie9"
	}
	replace:
	{
	"MaxNPCCount" "30"
	"MaxLiveChildren" "15"
	}
}

modify:
{
	match:
	{	
	"classname" "logic_script"
	"targetname" "text_script"
	}
	replace:
	{
	"vscripts" "lux_umbra/text2.nut"
	}
}

modify:
{
	match:
	{	
	"classname" "func_button"
	"targetname" "st1_break5_r"
	}
	delete:
	{
	"OnPressed" "st1_move8_r,Close,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_button"
	"targetname" "st1_break5_l"
	}
	delete:
	{
	"OnPressed" "st1_move8_l,Close,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "item_inventory_box"
	"targetname" "item_box1_2"
	}
	insert:
	{
	"OnUser1" "!self,AddItem,me_machete,0,-1"
	"OnUser1" "!self,AddItem,me_machete,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "item_inventory_box"
	"targetname" "item_box1_4"
	}
	insert:
	{
	"OnUser1" "!self,AddItem,me_machete,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_movelinear"
	"targetname" "st4_end1_ring0_m"
	}
	delete:
	{
	"OnFullyOpen" "12,FireUser2,,0,-1"
	}
	insert:
	{
	"OnFullyOpen" "12,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_movelinear"
	"targetname" "st4_end1_ring1_m"
	}
	delete:
	{
	"OnFullyOpen" "12,FireUser2,,0,-1"
	}
	insert:
	{
	"OnFullyOpen" "12,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_movelinear"
	"targetname" "st4_end1_ring2_m"
	}
	delete:
	{
	"OnFullyOpen" "12,FireUser2,,0,-1"
	}
	insert:
	{
	"OnFullyOpen" "12,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_movelinear"
	"targetname" "st4_end1_ring3_m"
	}
	delete:
	{
	"OnFullyOpen" "12,FireUser2,,0,-1"
	}
	insert:
	{
	"OnFullyOpen" "12,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_movelinear"
	"targetname" "st4_end1_ring4_m"
	}
	delete:
	{
	"OnFullyOpen" "12,FireUser2,,0,-1"
	}
	insert:
	{
	"OnFullyOpen" "12,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_movelinear"
	"targetname" "st4_end1_ring5_m"
	}
	delete:
	{
	"OnFullyOpen" "12,FireUser2,,0,-1"
	}
	insert:
	{
	"OnFullyOpen" "12,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_movelinear"
	"targetname" "st4_end1_ring6_m"
	}
	delete:
	{
	"OnFullyOpen" "12,FireUser2,,0,-1"
	}
	insert:
	{
	"OnFullyOpen" "12,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_movelinear"
	"targetname" "st4_end1_ring7_m"
	}
	delete:
	{
	"OnFullyOpen" "12,FireUser2,,0,-1"
	}
	insert:
	{
	"OnFullyOpen" "12,FireUser4,,0,1"
	}
}

modify:
{
	match:
	{	
	"classname" "npc_template_maker"
	"targetname" "st2_zombie4"
	}
	replace:
	{
	"MaxNPCCount" "70"
	"MaxLiveChildren" "12"
	}
}

modify:
{
	match:
	{	
	"classname" "npc_template_maker"
	"targetname" "st2_zombie4_2"
	}
	replace:
	{
	"MaxNPCCount" "100"
	"MaxLiveChildren" "50"
	}
}

modify:
{
	match:
	{	
	"classname" "point_template"
	"targetname" "shadow_shadow_temp0"
	}
	replace:
	{
	"Template01" "heiqiu_hurt0"
	"Template02" "heiqiu_particle0"
	}
}

modify:
{
	match:
	{	
	"hammerid" "226452""
	}
	replace:
	{
	"targetname" "heiqiu_particle0"
	}
}

modify:
{
	match:
	{	
	"hammerid" "1183564"
	}
	replace:
	{
	"targetname" "heiqiu_hurt0"
	}
}

modify:
{
	match:
	{	
	"classname" "logic_relay"
	"targetname" "shadow_shadow_relay0"
	}
	delete:
	{
	"OnUser1" "shadow_shadow_particle0,Kill,,29,-1"
	"OnTrigger" "shadow_shadow_hurt*,Enable,,0,-1"
	"OnTrigger" "shadow_shadow_hurt*,Kill,,0.3,-1"
	}
	insert:
	{
	"OnUser1" "heiqiu_particle0,Kill,,29,-1"
	"OnTrigger" "heiqiu_hurt*,Enable,,0,-1"
	"OnTrigger" "heiqiu_hurt*,Kill,,0.3,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "logic_case"
	"targetname" "st2_counter_case0"
	}
	insert:
	{
	"OnCase05" "first_player,RespawnPlayers,,0,1"
	}
}

add:
{
	"classname" "point_message_multiplayer"
	"color" "255 0 0"
	"developeronly" "0"
	"font" "PointMessageDefault"
	"fontdropshadow" "0"
	"fontproportional" "1"
	"parentname" "end0_lighthitbox0"
	"radius" "-1"
	"spawnflags" "1"
	"targetname" "end0_lighthitbox0_hp"
	"message" "xxx"
	"origin" "-2048 14968 -12896"

}

modify:
{
	match:
	{	
	"classname" "logic_ruleset"
	"targetname" "ruleset"
	}
	delete:
	{
	"OnUser2" "ruleset,ApplyCvars,sv_gravity 640,0,-1"
	}
	insert:
	{
	"OnUser2" "ruleset,ApplyCvars,sv_gravity 600,0,-1"
	}
}

add:
{
	"origin" "-2440 13288 -13016"
	"TemplateName" "zombie_run"
	"targetname" "boss_light_npc"
	"StartDisabled" "1"
	"SpawnFrequency" "-1"
	"spawnflags" "112"
	"Radius" "256"
	"MinSpawnDistance" "0"
	"MaxNPCCount" "1"
	"MaxLiveChildren" "4"
	"DestinationGroup" "boss_light_npc_info"
	"CriterionVisibility" "2"
	"CriterionDistance" "2"
	"angles" "0 0 0"
	"classname" "npc_template_maker"

}

add:
{
	"origin" "-2440 13288 -13016"
	"TemplateName" "zombie_run"
	"targetname" "boss_shadow_npc"
	"StartDisabled" "1"
	"SpawnFrequency" "-1"
	"spawnflags" "112"
	"Radius" "256"
	"MinSpawnDistance" "0"
	"MaxNPCCount" "1"
	"MaxLiveChildren" "4"
	"DestinationGroup" "boss_shadow_npc_info"
	"CriterionVisibility" "2"
	"CriterionDistance" "2"
	"angles" "0 0 0"
	"classname" "npc_template_maker"

}

add:
{
	"origin" "11984 -13008 -2096"
	"UseRandomTime" "1"
	"UpperRandomBound" "20"
	"targetname" "boss_timer0"
	"StartDisabled" "1"
	"LowerRandomBound" "15"
	"classname" "logic_timer"
	"OnTimer" "boss_shadow_npc,enable,,0,-1"
	"OnTimer" "boss_shadow_npc,disable,,0.02,-1"
	"OnTimer" "boss_light_npc,enable,,0,-1"
	"OnTimer" "boss_light_npc,disable,,0.02,-1"
}


add:
{
	"classname" "info_npc_spawn_destination"
	"origin" "11984 -13008 -2096"
	"angles" "0 0 0"
	"ReuseDelay" "1"
	"targetname" "boss_light_npc_info"
}

add:
{
	"classname" "info_npc_spawn_destination"
	"origin" "10544 -13008 -2096"
	"angles" "0 0 0"
	"ReuseDelay" "1"
	"targetname" "boss_light_npc_info"
}

add:
{
	"classname" "info_npc_spawn_destination"
	"origin" "10544 -11568 -2096"
	"angles" "0 0 0"
	"ReuseDelay" "1"
	"targetname" "boss_light_npc_info"
}

add:
{
	"classname" "info_npc_spawn_destination"
	"origin" "11984 -11568 -2096"
	"angles" "0 0 0"
	"ReuseDelay" "1"
	"targetname" "boss_light_npc_info"
}

add:
{
	"classname" "info_npc_spawn_destination"
	"origin" "11984 -6448 -2096"
	"angles" "0 0 0"
	"ReuseDelay" "1"
	"targetname" "boss_shadow_npc_info"
}

add:
{
	"classname" "info_npc_spawn_destination"
	"origin" "10544 -6448 -2096"
	"angles" "0 0 0"
	"ReuseDelay" "1"
	"targetname" "boss_shadow_npc_info"
}

add:
{
	"classname" "info_npc_spawn_destination"
	"origin" "10544 -7888 -2096"
	"angles" "0 0 0"
	"ReuseDelay" "1"
	"targetname" "boss_shadow_npc_info"
}

add:
{
	"classname" "info_npc_spawn_destination"
	"origin" "11984 -7888 -2096"
	"angles" "0 0 0"
	"ReuseDelay" "1"
	"targetname" "boss_shadow_npc_info"
}

modify:
{
	match:
	{	
	"classname" "logic_relay"
	"targetname" "relay_end0"
	}
	insert:
	{
	"OnTrigger" "zombie_sha*,SetHealth,-111111,3,-1"
	"OnTrigger" "zombie_run*,SetHealth,-111111,3,-1"
	"OnTrigger" "boss_shadow_npc,kill,,3,-1"
	"OnTrigger" "boss_shadow_npc_info,kill,,3,-1"
	"OnTrigger" "boss_light_npc,kill,,3,-1"
	"OnTrigger" "boss_light_npc_info,kill,,3,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "nmrih_objective_boundary"
	"targetname" "5"
	}
	delete:
	{
	"OnUser1" "st1_zombie17,SetSpawnFrequency,-1,0,-1"
	"OnUser1" "st1_zombie16,SetSpawnFrequency,-1,0,-1"
	"OnUser1" "st1_zombie12,SetSpawnFrequency,-1,0,-1"
	}
	insert:
	{
	"OnUser1" "st1_zombie17,SetSpawnFrequency,-1,0.02,-1"
	"OnUser1" "st1_zombie16,SetSpawnFrequency,-1,0.02,-1"
	"OnUser1" "st1_zombie12,SetSpawnFrequency,-1,0.02,-1"
	}
}
//test_fix_danmu
modify:
{
	match:
	{	
	"classname" "func_physbox"
	"targetname" "st2_start_bre0"
	}
	insert:
	{
	"OnBreak" "text_script,RunScriptCode,setthink(),0,1"
	"OnBreak" "text_script,RunScriptCode,rota_fix(),0,1"
	}
}
//test_fix_speed
modify:
{
	match:
	{	
	"classname" "logic_compare"
	"targetname" "sk_comp_slayall"
	}
	insert:
	{
	"OnEqualTo" "text_script,RunScriptCode,speed_fix(),7.5,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "st4_end1_ringbre0"
	}
	insert:
	{
	"OnBreak" "sound_break0,PlaySound,,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "st4_end1_ringbre1"
	}
	insert:
	{
	"OnBreak" "sound_break0,PlaySound,,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "st4_end1_ringbre2"
	}
	insert:
	{
	"OnBreak" "sound_break0,PlaySound,,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "st4_end1_ringbre3"
	}
	insert:
	{
	"OnBreak" "sound_break0,PlaySound,,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "st4_end1_ringbre4"
	}
	insert:
	{
	"OnBreak" "sound_break0,PlaySound,,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "st4_end1_ringbre5"
	}
	insert:
	{
	"OnBreak" "sound_break0,PlaySound,,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "st4_end1_ringbre6"
	}
	insert:
	{
	"OnBreak" "sound_break0,PlaySound,,0,-1"
	}
}

modify:
{
	match:
	{	
	"classname" "func_breakable"
	"targetname" "st4_end1_ringbre7"
	}
	insert:
	{
	"OnBreak" "sound_break0,PlaySound,,0,-1"
	}
}

//modify:
//{
//	match:
//	{	
//	"classname" "logic_relay"
//	"targetname" "st4_relay_end1"
//	}
//	insert:
//	{
//	"OnTrigger" "text_time,AddOutput,message I thought I'll never see you again,130.50,-1"
//	"OnTrigger" "text_time,Display,,140,-1"
//	"OnTrigger" "text_time,AddOutput,message Once the stars were scattered in pieces all over the galaxy,144.50,-1"
//	"OnTrigger" "text_time,Display,,145,-1"
//	"OnTrigger" "text_time,AddOutput,message Eyes on eyes what d'you wanna regain,152.50,-1"
//	"OnTrigger" "text_time,Display,,153,-1"
//	"OnTrigger" "text_time,AddOutput,message After all I wonder how you feel 'bout this madness,158.50,-1"
//	"OnTrigger" "text_time,Display,,159,-1"
//	}
//}

add:
{
"origin" "-13528 -14360 -15976"
"y" "0.1"
"x" "-1"
"targetname" "text_lyric"
"spawnflags" "1"
"message" "xxx"
"holdtime" "0.9"
"fxtime" "0.25"
"fadeout" "0.5"
"fadein" "0.6"
"effect" "0"
"color2" "0 0 255"
"color" "0 0 255"
"channel" "1"
"classname" "game_text"
}

